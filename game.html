<!-- game.html -->
<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FinKids Tycoon — Joc manual</title>

  <!-- Stiluri comune + joc -->
  <link rel="stylesheet" href="assets/styles/base.css" />
  <link rel="stylesheet" href="assets/styles/game.css" />

  <!-- Preload imagini folosite frecvent -->
  <link rel="preload" as="image" href="images/oven_open.png" />
  <link rel="preload" as="image" href="images/oven_closed.png" />
  <link rel="preload" as="image" href="images/cookie_bake_plain.png" />

  <!-- Joc manual -->
  <script type="module" src="assets/js/game/game.js" defer></script>
</head>
<body>
  <!-- Topbar -->
  <header id="topbar" role="banner" aria-label="Bară de navigare joc">
    <div class="left">
      <a class="brand" href="/">🍪 FinKids Tycoon</a>
      <span class="sep">•</span>
      <a class="btn" href="index.php" aria-label="Înapoi la Manager">⬅️ Înapoi la Manager</a>
    </div>
    <div class="right" aria-live="polite">
      📦 Stoc: <b id="g-stock">0</b>
      <span class="sep">•</span>
      ⚡ Boost: <b id="g-boost">0%</b>
    </div>
  </header>

  <!-- Conținut joc -->
  <main class="game-layout" role="main">
    <!-- Col stânga: Comandă -->
    <section class="game-panel" aria-labelledby="h-order">
      <h3 id="h-order">Comandă</h3>
      <div id="order-card" class="order-card" aria-live="polite">
        <div><b>Dimensiune:</b> <span id="ord-size">M</span></div>
        <div><b>Toppinguri:</b>
          <ul id="ord-tops" class="tops"></ul>
        </div>
        <div><b>Coacere țintă:</b> <span id="ord-bake">-</span></div>
      </div>
      <button id="btn-new-order" class="btn wide">Comandă nouă</button>
    </section>

    <!-- Col centru: Build Station -->
    <section class="game-panel" aria-labelledby="h-build">
      <h3 id="h-build">Stație de lucru</h3>
      <div class="build-stage">
        <img id="build-base" class="build-base" src="images/cookie_bake_plain.png" alt="Bază aluat">
        <div id="build-drop" class="build-dropzone" aria-label="Zonă plasare toppinguri"></div>
      </div>

      <div class="palette" id="build-palette" aria-label="Paletă toppinguri">
        <!-- populat din game.js -->
      </div>

      <div class="row tight" style="margin-top:6px">
        <div>Plasate: <b id="build-count">0</b></div>
        <div>
          Dimensiune aluat:
          <input id="size-range" type="range" min="1" max="3" step="1" value="2" aria-label="Dimensiune aluat (S/M/L)">
        </div>
      </div>
    </section>

    <!-- Col dreapta: Bake & Serve -->
    <section class="game-panel" aria-labelledby="h-bake-serve">
      <h3 id="h-bake-serve">Bake & Serve</h3>

      <div class="oven" aria-live="polite">
        <img id="oven-img" src="images/oven_open.png" alt="Cuptor">
        <div class="progress-container" aria-label="Progres coacere">
          <div id="bake-bar" class="progress-bar"></div>
        </div>
        <div class="hit-window" title="Fereastra de coacere optimă">
          <span></span>
        </div>
        <div class="row" style="margin-top:6px">
          <button id="btn-bake" class="btn">Pornire coacere</button>
          <button id="btn-stop" class="btn secondary" title="Oprește coacerea (Space)">Oprește (Spațiu)</button>
        </div>
      </div>

      <hr>

      <div class="serve">
        <div>Scor topping: <b id="score-top">0</b>/100</div>
        <div>Scor coacere: <b id="score-bake">0</b>/100</div>
        <div>Calitate totală: <b id="score-q">0.00</b></div>
        <div>Cantitate: <b id="score-qty">0</b> buc</div>
        <button id="btn-serve" class="btn wide">Servește clientul</button>
      </div>
    </section>
  </main>

  <!-- Footer navigare etape -->
  <footer class="game-footer" role="contentinfo">
    <button id="btn-prev" class="btn secondary">⟵ Înapoi (Build)</button>
    <button id="btn-next" class="btn">Înainte (Bake)</button>
  </footer>

  <noscript>E nevoie de JavaScript pentru joc.</noscript>
</body>
</html>
