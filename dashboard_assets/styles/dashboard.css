/* dashboard_assets/styles/dashboard.css */
/* =====================================================
   FinKids Tycoon — Dashboard (autosim)
   - layout 3 coloane
   - scenă centrală (shop)
   - card metrici live + carduri sezon/evenimente/quests
   - bară stații jos
   - responsive tweaks
   ===================================================== */

/* Layout principal: stânga controale, centru scenă, dreapta metrici */
.layout{
  display:grid;
  grid-template-columns:310px 1fr 320px;
  gap:12px;
  padding:12px;
  min-height:calc(100vh - 56px);
}

/* Panouri laterale */
aside{
  background:rgba(255,255,255,.85);
  border:2px solid var(--frame);
  border-radius:12px;
  padding:12px;
}

/* Centru: scenă magazin */
#center{
  position:relative;
  border:2px solid var(--frame);
  border-radius:12px;
  background:var(--paper);
  overflow:hidden;
}

/* Scena grafică */
.scene{
  position:absolute;
  inset:0;
  background:url('../images/shop_background.png') center/cover no-repeat;
}
.scene.scene-shop{ background-image:url('../images/shop_background.png'); }

/* Bilet/ticker comandă/manager */
.order-ticket{
  position:absolute;
  top:.5rem;
  right:.5rem;
  background:var(--paper);
  border:2px solid var(--frame);
  padding:.4rem .7rem;
  border-radius:8px;
  font-weight:bold;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
}

/* Banisor mascot */
.banisor-counter{
  position:absolute;
  bottom:1rem;
  left:1rem;
  width:140px;
  height:160px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:.4rem;
  pointer-events:none;
  user-select:none;
}
.banisor-counter .ban-body{
  position:relative;
  width:120px;
  height:120px;
  border-radius:50%;
  background:radial-gradient(circle at 38% 30%, #fff7c8 0%, #ffe275 46%, #f5b53f 100%);
  box-shadow:0 10px 22px rgba(0,0,0,.18);
  animation:ban-bob 3s ease-in-out infinite;
  overflow:hidden;
}
.banisor-counter .ban-ring{
  position:absolute;
  inset:8%;
  border:6px solid rgba(255,223,120,.55);
  border-radius:50%;
  box-shadow:0 0 14px rgba(255,220,120,.4);
  z-index:0;
}
.banisor-counter .ban-highlight{
  position:absolute;
  top:22%;
  left:20%;
  width:26px;
  height:26px;
  border-radius:50%;
  background:rgba(255,255,255,.5);
  filter:blur(.4px);
  z-index:1;
}
.banisor-counter .ban-eye{
  position:absolute;
  top:42%;
  width:14px;
  height:18px;
  border-radius:50%;
  background:#212121;
  box-shadow:0 4px 0 rgba(0,0,0,.12);
  z-index:3;
}
.banisor-counter .ban-eye-left{ left:34%; }
.banisor-counter .ban-eye-right{ right:34%; }
.banisor-counter .ban-brow{
  position:absolute;
  top:32%;
  width:24px;
  height:6px;
  border-radius:6px;
  background:#2b2b2b;
  z-index:3;
}
.banisor-counter .ban-brow-left{ left:26%; transform:rotate(-12deg); }
.banisor-counter .ban-brow-right{ right:26%; transform:rotate(12deg); }
.banisor-counter .ban-mouth{
  position:absolute;
  bottom:30%;
  left:50%;
  width:42px;
  height:24px;
  margin-left:-21px;
  border:4px solid #2f2015;
  border-top:none;
  border-radius:0 0 40px 40px/0 0 28px 28px;
  background:linear-gradient(to bottom,#ffe7d5 0%,#f7c49e 100%);
  box-shadow:0 2px 6px rgba(0,0,0,.12) inset;
  z-index:3;
}
.banisor-counter .ban-cheek{
  position:absolute;
  top:58%;
  width:24px;
  height:14px;
  border-radius:50%;
  background:rgba(255,133,133,.35);
  filter:blur(.3px);
  z-index:2;
}
.banisor-counter .ban-cheek-left{ left:16%; }
.banisor-counter .ban-cheek-right{ right:16%; }
.banisor-counter .ban-sparkle{
  position:absolute;
  width:12px;
  height:12px;
  border-radius:50%;
  background:rgba(255,255,255,.9);
  box-shadow:0 0 12px rgba(255,255,255,.85);
  animation:ban-spark 2.4s ease-in-out infinite;
  z-index:4;
}
.banisor-counter .ban-sparkle-left{ top:28%; left:18%; animation-delay:.2s; }
.banisor-counter .ban-sparkle-right{ top:30%; right:18%; animation-delay:.9s; }
.banisor-counter .ban-sparkle-top{ top:14%; left:50%; margin-left:-6px; animation-delay:1.5s; }
.banisor-counter .ban-shadow{
  width:90px;
  height:14px;
  border-radius:50%;
  background:rgba(0,0,0,.18);
  filter:blur(2px);
  animation:ban-shadow 3s ease-in-out infinite;
}
@keyframes ban-bob{
  0%,100%{ transform:translateY(0); }
  50%{ transform:translateY(-6px); }
}
@keyframes ban-shadow{
  0%,100%{ transform:scale(1); opacity:.5; }
  50%{ transform:scale(.88); opacity:.32; }
}
@keyframes ban-spark{
  0%,100%{ transform:scale(.7); opacity:.45; }
  50%{ transform:scale(1.3); opacity:1; }
}
/* Confetti overlay */
.confetti-overlay{
  position:fixed;
  inset:0;
  pointer-events:none;
  overflow:hidden;
  opacity:0;
  transition:opacity .2s ease-out;
  z-index:99999;
}
.confetti-overlay.show{ opacity:1; }
.confetti-overlay.hide{ opacity:0; transition:opacity .35s ease-in .1s; }
.confetti-piece{
  position:absolute;
  width:10px;
  height:16px;
  border-radius:2px;
  transform:translate3d(0,-120vh,0);
  animation:confetti-fall var(--dur,1.3s) linear forwards;
}
.confetti-message{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font:700 1.8rem/1 'Segoe UI', Arial, sans-serif;
  color:#2f2f2f;
  text-shadow:0 2px 4px rgba(255,255,255,.8);
  opacity:0;
  animation:confetti-msg .8s ease forwards;
}
@keyframes confetti-fall{
  to{ transform:translate3d(var(--dx,0px),110vh,0) rotate(540deg); opacity:0; }
}
@keyframes confetti-msg{
  0%{ opacity:0; transform:translate(-50%,-40%); }
  40%{ opacity:1; transform:translate(-50%,-50%); }
  100%{ opacity:0; transform:translate(-50%,-60%); }
}

/* Controale stânga */
#left-controls .hint{font-size:.85rem; color:#444}
#left-controls .grid label{display:flex; align-items:center; gap:.4rem}

/* Metrici dreapta */
#right-metrics h3{margin-top:0}
#right-metrics .metric{margin:.5rem 0}
#right-metrics .metric .label{font-size:.9rem; color:#444; margin-bottom:.25rem}
#right-metrics .panel.soft{margin-top:.5rem}

/* Carduri Sezon/Evenimente/Quests (montate din JS) */
#card-season h3,
#card-events h3,
#card-quests h3{margin:0 0 .35rem}

/* Bara stații jos (nav rapid) */
#stationbar{
  position:fixed;
  bottom:0; left:0; width:100%;
  display:flex; justify-content:center; gap:1rem;
  padding:.4rem;
  background:#333; color:#fff; font-size:.9rem;
  z-index:999;
}
#stationbar .station{
  padding:.3rem .9rem;
  background:#555;
  border-radius:6px;
  color:#fff;
  text-decoration:none;
}
#stationbar .station.active{background:var(--brand); color:#000}

/* Buton viteză evidențiat (supliment) */
.speed-btn{background:#fff3c8}
.speed-btn.active{outline:2px solid #000}

/* Responsive */
@media (max-width: 1100px){
  .layout{ grid-template-columns: 280px 1fr; }
  #right-metrics{ display:none; }
}
@media (max-width: 780px){
  .layout{ grid-template-columns: 1fr; }
  aside{ order:2 }
  #center{ order:1; min-height: 52vh; }
}
